<script>

var myFunction = function(username){
    return new Promise(
        (resolve,reject) => {
            setTimeout(function(){resolve(username+"'s promise is resolved");}, 3000);
        }
    );
}

myFunction("Ella")
.then(successMessage => {console.log(successMessage);})
.then(()=>myFunction("Fiona"))
.then(successMessage => {console.log(successMessage);})
.then(()=>myFunction("Harold"))
.then(successMessage => {console.log(successMessage);})
.catch(errorMessage=>{console.log("Error:"+errorMessage);})

console.log("Hi");
console.log("How are you");

myFunction("Gary")
.then(successMessage =>{console.log(successMessage);})
.catch(errorMessage=>{console.log("Error:"+errorMessage);})


console.log("How is your day");


var setBackgroundColor = function(){
    console.log("Starting the background color change....");
    //call a web service that eill give the color 
    fetch("http://localhost:5152/decorations/bgcolor/a")
    .then( response => {return respose.text()})
    .then(text => {document.getElementById("stage").style.backgroundColor=text;console.log("complete background change ")})
    
}

async function setBackgroundColorAsync(){
    console.log("Starting the background color change...");
    let response = await fetch("http://localhost:5152/decorations/bgcolor/a");
    let text = await response.text();
    document.getElementById("stage").style.backgroundColor=text;
    console.log("Completed background change");
}


var setBorder = function(){
    console.log("Starting the border change....");
    //call a web service that eill give the color 
    fetch("http://localhost:5152/decorations/border/a")
    .then( response => {return response.text()})
    .then(text => {document.getElementById("stage").style.border=text;console.log("complete border change")})
    
}

</script>

<h2 id="stage">Welcome!</h2>
<p><button onclick="setBackgroundColorAsync()">Click to decorate with background color</button></p>
<p><button onclick="setBorder()">Click to decorate with a border</button></p>